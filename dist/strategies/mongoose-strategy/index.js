'use strict';

var chalk = require('chalk');
var model = require('./proxy.model.js');
var instance = require('./proxy.instance.js');
var connection = require('./proxy.connection.js');

var mongoose = require('mongoose');
mongoose.Promise = require('bluebird');

mongoose.connection.on('open', function (ref) {
		chalk.green('Connected to mongo server.', ref);
});

mongoose.connection.on('close', function (ref) {
		chalk.blue('Closing connection to mongo server.', ref);
});
mongoose.connection.on('error', function (err) {
		chalk.bold.red('Could not connect to mongo server!');
		chalk.red(err);
});

module.exports = {
		model: model,
		instance: instance,
		connection: connection,
		get dbManager() {
				return require('mongoose');
		}
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3N0cmF0ZWdpZXMvbW9uZ29vc2Utc3RyYXRlZ3kvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLFFBQVEsUUFBUSxPQUFSLENBQWQ7QUFDQSxJQUFNLFFBQVEsUUFBUSxrQkFBUixDQUFkO0FBQ0EsSUFBTSxXQUFXLFFBQVEscUJBQVIsQ0FBakI7QUFDQSxJQUFNLGFBQWEsUUFBUSx1QkFBUixDQUFuQjs7QUFFQSxJQUFNLFdBQVcsUUFBUSxVQUFSLENBQWpCO0FBQ0EsU0FBUyxPQUFULEdBQW1CLFFBQVEsVUFBUixDQUFuQjs7QUFHQSxTQUFTLFVBQVQsQ0FBb0IsRUFBcEIsQ0FBdUIsTUFBdkIsRUFBK0IsVUFBVSxHQUFWLEVBQWU7QUFDNUMsUUFBTSxLQUFOLENBQVksNEJBQVosRUFBMEMsR0FBMUM7QUFDRCxDQUZEOztBQUlBLFNBQVMsVUFBVCxDQUFvQixFQUFwQixDQUF1QixPQUF2QixFQUFnQyxVQUFVLEdBQVYsRUFBZTtBQUM3QyxRQUFNLElBQU4sQ0FBVyxxQ0FBWCxFQUFrRCxHQUFsRDtBQUNELENBRkQ7QUFHQSxTQUFTLFVBQVQsQ0FBb0IsRUFBcEIsQ0FBdUIsT0FBdkIsRUFBZ0MsVUFBVSxHQUFWLEVBQWU7QUFDN0MsUUFBTSxJQUFOLENBQVcsR0FBWCxDQUFlLG9DQUFmO0FBQ0EsUUFBTSxHQUFOLENBQVUsR0FBVjtBQUNELENBSEQ7O0FBS0EsT0FBTyxPQUFQLEdBQWlCO0FBQ2hCLGNBRGdCO0FBRWhCLG9CQUZnQjtBQUdoQix3QkFIZ0I7QUFJaEIsTUFBSSxTQUFKLEdBQWU7QUFDZCxXQUFPLFFBQVEsVUFBUixDQUFQO0FBQ0E7QUFOZSxDQUFqQiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNoYWxrID0gcmVxdWlyZSgnY2hhbGsnKTtcbmNvbnN0IG1vZGVsID0gcmVxdWlyZSgnLi9wcm94eS5tb2RlbC5qcycpO1xuY29uc3QgaW5zdGFuY2UgPSByZXF1aXJlKCcuL3Byb3h5Lmluc3RhbmNlLmpzJyk7XG5jb25zdCBjb25uZWN0aW9uID0gcmVxdWlyZSgnLi9wcm94eS5jb25uZWN0aW9uLmpzJyk7XG5cbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcbm1vbmdvb3NlLlByb21pc2UgPSByZXF1aXJlKCdibHVlYmlyZCcpO1xuXG5cbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ29wZW4nLCBmdW5jdGlvbiAocmVmKSB7XG4gIGNoYWxrLmdyZWVuKCdDb25uZWN0ZWQgdG8gbW9uZ28gc2VydmVyLicsIHJlZik7XG59KTtcblxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignY2xvc2UnLCBmdW5jdGlvbiAocmVmKSB7XG4gIGNoYWxrLmJsdWUoJ0Nsb3NpbmcgY29ubmVjdGlvbiB0byBtb25nbyBzZXJ2ZXIuJywgcmVmKTtcbn0pO1xubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gIGNoYWxrLmJvbGQucmVkKCdDb3VsZCBub3QgY29ubmVjdCB0byBtb25nbyBzZXJ2ZXIhJyk7XG4gIGNoYWxrLnJlZChlcnIpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRtb2RlbCxcblx0aW5zdGFuY2UsXG5cdGNvbm5lY3Rpb24sXG5cdGdldCBkYk1hbmFnZXIoKXtcdFx0XG5cdFx0cmV0dXJuIHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5cdH1cbn07Il19