'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _index = require('../index');

var DBURI = 'mongodb://localhost:27017/proxyDb-mock';

// TODO remove the module.exports
module.exports = {
	MockUserModel: _index.dbManager.model('MockUserModel', new _index.dbManager.Schema({ age: Number, name: String })),
	DBURI: DBURI,
	openConnection: function openConnection(done) {
		if (_index.dbManager.connection._readyState !== 1) {
			_index.dbManager.connection.open(DBURI, done);
		} else {
			done();
		}
	},
	closeConnection: function closeConnection(done) {
		_index.dbManager.connection.close(done);
	}
};

exports.default = module.exports;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3N0cmF0ZWdpZXMvbW9uZ29vc2Utc3RyYXRlZ3kvc3BlYy9oZWxwZXJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUVBLElBQU0sUUFBUSx3Q0FBZDs7QUFHQTtBQUNBLE9BQU8sT0FBUCxHQUFpQjtBQUNoQixnQkFBZSxpQkFBUyxLQUFULENBQWUsZUFBZixFQUNkLElBQUksaUJBQVMsTUFBYixDQUFvQixFQUFFLEtBQUssTUFBUCxFQUFlLE1BQU0sTUFBckIsRUFBcEIsQ0FEYyxDQURDO0FBR2hCLGFBSGdCO0FBSWhCLGlCQUFnQix3QkFBVSxJQUFWLEVBQWdCO0FBQy9CLE1BQUksaUJBQVMsVUFBVCxDQUFvQixXQUFwQixLQUFvQyxDQUF4QyxFQUEyQztBQUMxQyxvQkFBUyxVQUFULENBQW9CLElBQXBCLENBQXlCLEtBQXpCLEVBQWdDLElBQWhDO0FBQ0EsR0FGRCxNQUVPO0FBQ047QUFDQTtBQUNELEVBVmU7QUFXaEIsa0JBQWlCLHlCQUFVLElBQVYsRUFBZ0I7QUFDaEMsbUJBQVMsVUFBVCxDQUFvQixLQUFwQixDQUEwQixJQUExQjtBQUNBO0FBYmUsQ0FBakI7O2tCQWdCZSxPQUFPLE8iLCJmaWxlIjoiaGVscGVycy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiTWFuYWdlciBhcyBtb25nb29zZSB9IGZyb20gJy4uL2luZGV4JztcblxuY29uc3QgREJVUkkgPSAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9wcm94eURiLW1vY2snO1xuXG5cbi8vIFRPRE8gcmVtb3ZlIHRoZSBtb2R1bGUuZXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSB7XG5cdE1vY2tVc2VyTW9kZWw6IG1vbmdvb3NlLm1vZGVsKCdNb2NrVXNlck1vZGVsJyxcblx0XHRuZXcgbW9uZ29vc2UuU2NoZW1hKHsgYWdlOiBOdW1iZXIsIG5hbWU6IFN0cmluZyB9KSksXG5cdERCVVJJLFxuXHRvcGVuQ29ubmVjdGlvbjogZnVuY3Rpb24gKGRvbmUpIHtcblx0XHRpZiAobW9uZ29vc2UuY29ubmVjdGlvbi5fcmVhZHlTdGF0ZSAhPT0gMSkge1xuXHRcdFx0bW9uZ29vc2UuY29ubmVjdGlvbi5vcGVuKERCVVJJLCBkb25lKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkb25lKClcblx0XHR9XG5cdH0sXG5cdGNsb3NlQ29ubmVjdGlvbjogZnVuY3Rpb24gKGRvbmUpIHtcblx0XHRtb25nb29zZS5jb25uZWN0aW9uLmNsb3NlKGRvbmUpXG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbW9kdWxlLmV4cG9ydHM7Il19